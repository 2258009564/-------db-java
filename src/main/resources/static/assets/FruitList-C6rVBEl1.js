import{B as c}from"./BaseTable-CTU9sByI.js";import{s as i}from"./request-K4Qd0wzI.js";import{f as p,g as m,e as u,o as f}from"./index-K2HnPW1F.js";const _={__name:"FruitList",setup(b){const t=p([]),o=p([]),s=[{prop:"id",label:"ID",width:"80"},{prop:"name",label:"名称"},{prop:"price",label:"价格(元)",formatter:e=>`¥${e.price}`},{prop:"stock",label:"库存"},{prop:"supplierId",label:"供应商",formatter:e=>l(e.supplierId)}],a=p([{prop:"name",label:"名称",type:"text"},{prop:"price",label:"价格",type:"number",step:.01},{prop:"stock",label:"初始库存",type:"number"},{prop:"supplierId",label:"供应商",type:"select",options:[]}]),l=e=>{const r=t.value.find(n=>n.id===e);return r?r.name:"未知"};return m(async()=>{try{const e=await i.get("/suppliers");t.value=e,o.value=e.map(r=>({label:r.name,value:r.id})),a.value.find(r=>r.prop==="supplierId").options=o.value}catch(e){console.error(e)}}),(e,r)=>(f(),u(c,{title:"商品管理",entity:"fruits",columns:s,formItems:a.value,searchPlaceholder:"输入商品名称搜索...",searchParam:"name"},null,8,["formItems"]))}};export{_ as default};
